<!-- views/Deepak/Job_listing_public.ejs -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Job Portal</title>
    <link rel="stylesheet" href="/css/Joblisting/Job_listing_public.css" />
  </head>
  <body>
    <div class="container">
      <aside class="filters">
        <h2>Filters</h2>
        <div class="filter-section">
          <h3>Sort By</h3>
          <select id="sortSelect">
            <option value="salary-desc">Salary (High to Low)</option>
            <option value="salary-asc">Salary (Low to High)</option>
            <option value="date">Newest First</option>
            <option value="stars">Most Starred</option>
          </select>
        </div>
        <div class="filter-section">
          <h3>Experience Level</h3>
          <div class="checkbox-group">
            <label><input type="checkbox" value="entry" /> Entry Level</label>
            <label><input type="checkbox" value="mid" /> Mid Level</label>
            <label><input type="checkbox" value="senior" /> Senior Level</label>
          </div>
        </div>
        <div class="filter-section">
          <h3>Skills</h3>
          <div class="skills-container">
            <div class="skill-tag">JavaScript</div>
            <div class="skill-tag">Python</div>
            <div class="skill-tag">React</div>
            <div class="skill-tag">Node.js</div>
            <div class="skill-tag">SQL</div>
            <div class="skill-tag">AWS</div>
            <div class="skill-tag">Docker</div>
            <div class="skill-tag">Git</div>
          </div>
        </div>
        <div class="filter-section">
          <h3>Job Type</h3>
          <div class="checkbox-group">
            <label><input type="checkbox" value="full-time" /> Full Time</label>
            <label><input type="checkbox" value="part-time" /> Part Time</label>
            <label><input type="checkbox" value="contract" /> Contract</label>
            <label><input type="checkbox" value="remote" /> Remote</label>
          </div>
        </div>
      </aside>
      <main class="job-listings" id="jobList">
        <h1>Available Positions</h1>
        <% jobs.forEach((job, index) => { %>
        <div class="job-card">
          <div class="job-img-container">
            <img
              src="<%= job.image %>"
              alt="<%= job.company_name %>"
              class="job-img"
            />
          </div>
          <div class="job-info">
            <h2 class="job-title"><%= job.job_title %></h2>
            <div class="job-price"><%= job.salary_range %></div>
            <div class="job-tech">
              <% job.description.skills.slice(0, 3).forEach(skill => { %>
              <span class="tech-tag"><%= skill %></span>
              <% }) %>
            </div>
            <div class="job-meta">
              <span class="location"><%= job.location %></span>
              <span class="work"><%= job.job_type.toLowerCase() %></span>
              <span class="clock">Posted <%= job.posted_date %></span>
            </div>
            <div class="star-rating">
              <% const stars = Math.round(Math.random() * 5); for (let i = 0; i
              < 5; i++) { if (i < stars) { %> ★ <% } else { %> ☆ <% } } %>
            </div>
          </div>
          <div class="job-actions">
            <span class="applications-count"
              ><%= Math.floor(Math.random() * 100) %> applicants</span
            >
            <a href="/jobs/details?jobId=<%= index %>">
              <button class="see-more-btn">See More</button>
            </a>
          </div>
        </div>
        <% }) %>
      </main>
    </div>
    <script src="/js/Joblisting/Job_listing_public.js"></script>
  </body>
</html>
