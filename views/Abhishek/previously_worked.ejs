<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sidebar Dashboard</title>
    <link rel="stylesheet" href="/css/EmployerD/previously_worked.css" />
    <link rel="stylesheet" href="/css/EmployerD/sidebar.css" />
  </head>
  <body>
    <div class="dashboard-wrapper">
      <%- include('partials/sidebar', { user: user, activePage: activePage }) %>
      <div class="main-content">
        <div class="container">
          <h1 class="section-title">Previously Worked Freelancers</h1>
          <div class="search-bar">
            <input
              type="text"
              class="search-input"
              placeholder="Search freelancers, skills..."
            />
            <button class="search-btn">
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="currentColor"
                class="icon"
              >
                <path
                  d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 0 0 1.48-8.73 6.52 6.52 0 0 0-9.2 0 6.52 6.52 0 0 0 0 9.2 6.5 6.5 0 0 0 8.73-1.48l.27.28v.79l5 5 1.5-1.5-5-5zm-6 0a4.5 4.5 0 1 1 0-9 4.5 4.5 0 0 1 0 9z"
                />
              </svg>
            </button>
          </div>
          <div class="filters">
            <button class="filter-btn active" data-filter="all">
              All Freelancers
            </button>
            <button class="filter-btn" data-filter="recent">
              Recently Worked
            </button>
            <button class="filter-btn" data-filter="top-rated">
              Top Rated
            </button>
          </div>
          <div class="freelancer-list">
            <% previous_freelancers.forEach(freelancer => { %>
            <div
              class="freelancer-card"
              data-completed="<%= freelancer.completed_days_ago %>"
              data-rating="<%= freelancer.rating %>"
            >
              <div class="card-header">
                <img
                  src="<%= freelancer.image %>"
                  alt="Profile"
                  class="profile-img"
                />
                <div class="freelancer-info">
                  <a
                    href="/employerD/job-listings/see_more/job/view_profile"
                    class="freelancer-name"
                    ><%= freelancer.name %></a
                  >
                  <div class="rating">
                    <% for(let i = 0; i < 5; i++) { %>
                    <svg
                      width="12"
                      height="12"
                      viewBox="0 0 24 24"
                      fill="currentColor"
                      class="icon"
                    >
                      <path
                        d="M12 .587l3.668 7.431 8.332 1.212-6.001 5.847 1.417 8.257L12 18.777l-7.416 3.907 1.417-8.257-6.001-5.847 8.332-1.212z"
                      />
                    </svg>
                    <% } %>
                    <span class="rate_txt"><%= freelancer.rating %></span>
                  </div>
                </div>
              </div>
              <div class="card-body">
                <div class="skills">
                  <% freelancer.skills.forEach(skill => { %>
                  <span class="skill-tag"><%= skill %></span>
                  <% }) %>
                </div>
                <div class="project-info">
                  <p class="info-label">Worked on:</p>
                  <p class="project-name"><%= freelancer.project %></p>
                </div>
              </div>
              <div class="card-footer">
                <div class="completed-date">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="currentColor"
                    class="icon"
                  >
                    <path
                      d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2V5c0-1.11-.89-2-2-2zm0 16H5V8h14v11zm-4-6l-4 3V9l4 3z"
                    />
                  </svg>
                  <span
                    >Completed <%= freelancer.completed_days_ago %> days
                    ago</span
                  >
                </div>
                <button class="rehire-btn">Rehire</button>
              </div>
            </div>
            <% }) %>
          </div>
        </div>
      </div>
    </div>
    <script src="/js/EmployerD/previously_worked.js"></script>
  </body>
</html>